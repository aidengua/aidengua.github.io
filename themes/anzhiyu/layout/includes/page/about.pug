if site.data.about
  - let aboutData = site.data.about
  each item in aboutData
    - let subtitle = item.subtitle || config.subtitle
    - let avatarImg = item.avatarImg || theme.avatar.img
    - let aboutName = item.name || theme.author
    - let aboutDescription = item.description || config.description
    - let skillsTips = item.skillsTips
    - let careers = item.careers
    - let crrList = careers.list
    - let crrItem = careers.item
    - let avatarSkills = item.avatarSkills
    #about-page
      .author-box
        if avatarSkills
          .author-tag-left
            each item in avatarSkills.left
              span.author-tag=item
        .author-img
          img.no-lightbox(src=url_for(avatarImg) onerror=`this.onerror=null;this.src='` + url_for(theme.error_img.flink) + `'` alt="avatar")
        if avatarSkills
          .author-tag-right
            each item in avatarSkills.right
              span.author-tag=item
      p.p.center.logo.large é—œæ–¼ä½œè€…
      p.p.center.small=subtitle
      .author-content
        .author-content-item.myInfoAndSayHello
          .title1 ä½ å¥½ï¼Œå¾ˆé«˜èˆˆé‡è¦‹ä½ ğŸ‘‹
          .title2
            | æˆ‘å« 
            span.inline-word=aboutName
          .title1=aboutDescription
        .aboutsiteTips.author-content-item
          - let { tips, title1, title2, word } = item.aboutsiteTips
          .author-content-item-tips= tips
          h2
            = title1
            br
            = title2
            .mask
              each wordItem, index in word
                if index < word.length - 2
                  span(class=(index === 0 ? 'first-tips' : ''))= wordItem
              span(data-up)= word[word.length - 2]
              |  
              span(data-show)= word[word.length - 1]
      
        .content
      
      .author-content
        .author-content-item.skills
          .card-content
            .author-content-item-tips=skillsTips.tips
            span.author-content-item-title=skillsTips.title
            .skills-style-group
              include ../anzhiyu/tags-group-all.pug
              if site.data.creativity
                .skills-list
                  each i in site.data.creativity
                    each item, index in i.creativity_list
                      .skill-info
                        .skill-icon(style=`background: ${item.color}`)
                          img.no-lightbox(title=item.name, src=item.icon, alt=item.name)
                        .skill-name
                          span=item.name 
                  .etc ...
        .author-content-item.careers
          .card-content
            .author-content-item-tips=careers.tips
            span.author-content-item-title=careers.title
            .careers-group
              if crrList
                each career in crrList
                  .career-item
                    .circle(style=`background:${career.color ? career.color : "#357ef5"}`)
                    .name=career.desc
              else
                .careers-none
            if careers.img
              img.author-content-img.no-lightbox(alt=careers.tips, src=url_for(careers.img) onerror=`this.onerror=null;this.src='` + url_for(theme.error_img.flink) + `'`)
      
      .author-content
        if theme.LA.enable
          - let cover = item.statistic.cover
          .about-statistic.author-content-item(style=`background: url(${cover}) top / cover no-repeat;`)
            .card-content
              .author-content-item-tips æ•°æ®
              span.author-content-item-title è®¿é—®ç»Ÿè®¡
              #statistic
              .post-tips
                | ç»Ÿè®¡ä¿¡æ¯æ¥è‡ª 
                a(href='https://invite.51.la/1NzKqTeb?target=V6', target='_blank', rel='noopener nofollow') 51laç½‘ç«™ç»Ÿè®¡
              .banner-button-group
                - let link = item.statistic.link
                - let text = item.statistic.text
                a.banner-button(onclick=`pjax.loadUrl("${link}")`)
                  i.anzhiyufont.anzhiyu-icon-arrow-circle-right
                  |  
                  span.banner-button-text=text
        .author-content-item-group.column.mapAndInfo
          - let mapBackground = item.map.background
          - let mapBackgroundDark = item.map.backgroundDark
          style.
            .author-content-item.map {
              background-image: url(#{mapBackground});
            }
            [data-theme='dark'] .author-content-item.map {
              background-image: url(#{mapBackgroundDark});
            }
          .author-content-item.map.single
            - let mapTitle = item.map.title
            - let mapStrengthenTitle = item.map.StrengthenTitle
            span.map-title=mapTitle
              b=mapStrengthenTitle
          .author-content-item.selfInfo.single
            - let { selfInfoTips1, selfInfoContentYear, selfInfoTips2, selfInfoContent2, selfInfoTips3, selfInfoContent3 } = item.selfInfo
            div
              span.selfInfo-title=selfInfoTips1
              |  
              span.selfInfo-content#selfInfo-content-year(style='color:#43a6c6')=selfInfoContentYear
            div
              span.selfInfo-title=selfInfoTips2
              |  
              span.selfInfo-content(style='color:#c69043')=selfInfoContent2
            div
              span.selfInfo-title=selfInfoTips3
              |  
              span.selfInfo-content(style='color:#b04fe6')=selfInfoContent3
      
      .author-content
        .author-content-item.personalities
          - let {author_name, personality_type, photo_url, personality_img, name_url, personality_type_color} = item.personalities
          .author-content-item-tips æ€§æ ¼
          span.author-content-item-title= author_name
          .title2(style=`color:${personality_type_color ? personality_type_color : "#ac899c"}`)= personality_type
          .post-tips
            | åœ¨ 
            a(href='https://www.16personalities.com/', target='_blank', rel='noopener nofollow') 16personalities
            |  äº†è§£æ›´å¤šé—œæ–¼
            a(target='_blank', rel='noopener external nofollow', href= name_url)= author_name
          .image
            img.no-lightbox(src=url_for(personality_img), alt='äººæ ¼')
        .author-content-item.myphoto
          img.author-content-img.no-lightbox(alt='è‡ªæ‹', src=url_for(photo_url))
      
      .author-content
        .author-content-item.maxim
          - let {maxim_tips, maxim_top, maxim_bottom} = item.maxim
          .author-content-item-tips=maxim_tips
          span.maxim-title
            span(style='opacity:.6;margin-bottom:8px')=maxim_top
            |  
            span=maxim_bottom
        .author-content-item.buff
          .card-content
          - let {buff_tips, buff_top, buff_bottom} = item.buff
            .author-content-item-tips=buff_tips
            span.buff-title
              span(style='opacity:.6;margin-bottom:8px')=buff_top
              |  
              span=buff_bottom
          .card-background-icon
            i.anzhiyufont.anzhiyu-icon-rocket

        .author-content
          .create-site-post.author-content-item.single
            .author-content-item-tips æˆ‘çš„å¿ƒè·¯æ­·ç¨‹
            | æ­¡è¿ä¾†åˆ°æˆ‘çš„éƒ¨è½æ ¼å‘€ Ù©(ËŠá—œË‹*)Ùˆï¼Œé€™é‚Šæ˜¯æˆ‘è¨˜éŒ„ç”Ÿæ´»å’Œå°ˆæ¡ˆæ­·ç¨‹çš„ç«™ï¼Œæˆ‘ç›®å‰åœ¨å°åŒ—å¸‚
            strong ç„¡ç•Œå¡¾å¯¦é©—æ•™è‚²æ©Ÿæ§‹
            | çš„
            strong é«˜ä¸­è—è¡“
            | é¡ç¾¤ï¼Œæˆ‘å¸¸å¸¸å¿˜è¨˜åšèª²å ‚ç­†è¨˜æˆ–æ¯”è³½å¾Œè¨˜éŒ„ ~ ä½†æ˜¯ç¾åœ¨é€™å€‹ç«™å…§ç´€éŒ„äº†æˆ‘æœ€å¤šçš„ç­†è¨˜å…§å®¹ï¼Œæ…¢æ…¢å»ç´¯ç©æ¯ä¸€æ¬¡ç´€éŒ„ï¼Œå›çœ‹éå»çš„ç´€éŒ„èƒ½å¤ æ‹¿å‡ºä¾†é‡æ–°äº¤çµ¦åˆ¥äººï¼é€™æ‰æ˜¯çœŸæ­£çš„å­¸ç¿’èˆ‡ç­†è¨˜ã€‚æ¯å‘¨æˆ‘éƒ½æœƒè¨˜éŒ„è‡ªä¸»æ™‚é–“éç¨‹å’Œå°ˆæ¡ˆé€²å±•ï¼Œå¦‚æœå“ªä¸€å‘¨é€£çºŒæ²’æœ‰æ›´æ–°ç´€éŒ„å°±æ˜¯å¤ªå¿™å¿˜è¨˜å•¦ï¼ä½†æ˜¯æˆ‘é‚„æ˜¯æœƒåœ¨æƒ³èµ·ä¾†æ™‚è£œä¸Šï¼Œæœ‰æ™‚å€™å°ˆæ³¨åœ¨å‰µä½œä¸Šæœƒå¿˜è¨˜å…¶ä»–äº‹æƒ…ã€‚
            psw è‚¯å®šåˆç†¬å¤œåšéŸ³éŸ¿äº†(*Â´ï½¥Ğ´ï½¥)
            del åˆ¥å­¸æˆ‘å»ç†¬å¤œåšäº‹å¹³æ™‚ç¡è¦º
            |  å¸Œæœ›å¤§å®¶éƒ½èƒ½æ¶è¨­å±¬æ–¼è‡ªå·±çš„å€‹äººéƒ¨è½æ ¼ã€‚
            .checkbox.blue.checked
              input(type='checkbox', checked)
              p
                | æˆç‚ºéŸ³éŸ¿è¨­è¨ˆå¸¶è‘—è‡ªå·±çš„ä½œå“åƒè³½
                img.inline-img(src='https://bu.dusays.com/2021/01/15/287f146123ad3.gif' data-fancybox='gallery', style='display: inline;margin: 0 8px;height: 1.4em;vertical-align: text-bottom;')
            .checkbox.blue.checked
              input(type='checkbox', checked)
              p
                | è¶…ç´šSkidder
                kbd Ctrl
                |  +
                kbd C
                | ã€
                kbd Ctrl
                |  +
                kbd V
                | é«˜ç´šjavaå·¥ç¨‹å¸«
            .checkbox.times.red.checked
              input(type='checkbox', checked)
              p ç²¾ç†ŸPrã€Psã€Aiç­‰è»Ÿé«”æŠ€å·§
            .checkbox.times.red.checked
              input(type='checkbox', checked)
              p ç²¾ç†ŸHexoæ­å»ºå’ŒHTML, CSS, JavaScript

            span.p.h3 TodoList
            .checkbox.checked
              input(type='checkbox', checked)
              p è¨­è¨ˆèˆ‡ä¸åŒæ–‡åŒ–çµåˆçš„éŸ³éŸ¿
            .checkbox.checked
              input(type='checkbox', checked)
              p å®ŒæˆHexoéƒ¨è½æ ¼æ­å»º
            .checkbox.checked
              input(type='checkbox', checked)
              p é«˜ä¸­é¤Šæˆæ’°å¯«éƒ¨è½æ ¼å’Œç­†è¨˜å¥½ç¿’æ…£
            .checkbox
              input(type='checkbox')
              p ç²¾é€šCloudFlare DNSæœå‹™
            .checkbox
              input(type='checkbox')
              p ç¹ªè£½è‡ªå·±çš„Dé¡æ“´å¤§å™¨PCB
            .checkbox.canvas
              input(type='checkbox')
              p è¨­è¨ˆè‡ªå·±çš„å“ç‰Œ
            .checkbox
              input(type='checkbox')
              p é‡ç”¢è‡ªå·±çš„è—èŠ½éŸ³éŸ¿
            .checkbox
              input(type='checkbox')
              p äº¤åˆ°å¥³æœ‹å‹
    script(src=url_for(theme.asset.countup_js))
    - const ck = theme.LA.ck
    script(defer).
      function initAboutPage() {
        fetch("https://v6-widget.51.la/v6/#{ck}/quote.js")
          .then(res => res.text())
          .then(data => {
            let title = ["æœ€è¿‘æ´»è·ƒ", "ä»Šæ—¥äººæ•°", "ä»Šæ—¥è®¿é—®", "æ˜¨æ—¥äººæ•°", "æ˜¨æ—¥è®¿é—®", "æœ¬æœˆè®¿é—®", "æ€»è®¿é—®é‡"];
            let num = data.match(/(<\/span><span>).*?(\/span><\/p>)/g);

            num = num.map(el => {
              let val = el.replace(/(<\/span><span>)/g, "");
              let str = val.replace(/(<\/span><\/p>)/g, "");
              return str;
            });

            let statisticEl = document.getElementById("statistic");

            // è‡ªå®šä¹‰ä¸æ˜¾ç¤ºå“ªä¸ªæˆ–è€…æ˜¾ç¤ºå“ªä¸ªï¼Œå¦‚ä¸‹ä¸ºä¸æ˜¾ç¤º æœ€è¿‘æ´»è·ƒè®¿å®¢ å’Œ æ€»è®¿é—®é‡
            let statistic = [];
            for (let i = 0; i < num.length; i++) {
              if (!statisticEl) return;
              if (i == 0) continue;
              statisticEl.innerHTML +=
                "<div><span>" + title[i] + "</span><span id=" + title[i] + ">" + num[i] + "</span></div>";
              queueMicrotask(() => {
                statistic.push(
                  new CountUp(title[i], 0, num[i], 0, 2, {
                    useEasing: true,
                    useGrouping: true,
                    separator: ",",
                    decimal: ".",
                    prefix: "",
                    suffix: "",
                  })
                );
              });
            }

            let statisticElement = document.querySelector(".about-statistic.author-content-item");
            function statisticUP() {
              if (!statisticElement) return;

              const callback = (entries, observer) => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    for (let i = 0; i < num.length; i++) {
                      if (i == 0) continue;
                      queueMicrotask(() => {
                        statistic[i - 1].start();
                      });
                    }
                    observer.disconnect(); // åœæ­¢è§‚å¯Ÿå…ƒç´ ï¼Œå› ä¸ºä¸å†éœ€è¦è§¦å‘æ­¤å›è°ƒ
                  }
                });
              };

              const options = {
                root: null,
                rootMargin: "0px",
                threshold: 0
              };
              const observer = new IntersectionObserver(callback, options);
              observer.observe(statisticElement);
            }

            const selfInfoContentYear = new CountUp("selfInfo-content-year", 0, #{selfInfoContentYear}, 0, 2, {
              useEasing: true,
              useGrouping: false,
              separator: ",",
              decimal: ".",
              prefix: "",
              suffix: "",
            });

            let selfInfoContentYearElement = document.querySelector(".author-content-item.selfInfo.single");
            function selfInfoContentYearUp() {
              if (!selfInfoContentYearElement) return;

              const callback = (entries, observer) => {
                entries.forEach(entry => {
                  if (entry.isIntersecting) {
                    selfInfoContentYear.start();
                    observer.disconnect(); // åœæ­¢è§‚å¯Ÿå…ƒç´ ï¼Œå› ä¸ºä¸å†éœ€è¦è§¦å‘æ­¤å›è°ƒ
                  }
                });
              };

              const options = {
                root: null,
                rootMargin: "0px",
                threshold: 0
              };
              const observer = new IntersectionObserver(callback, options);
              observer.observe(selfInfoContentYearElement);
            }

            selfInfoContentYearUp();
            statisticUP()
          });

        var pursuitInterval = null;
        pursuitInterval = setInterval(function () {
          const show = document.querySelector("span[data-show]");
          const next = show.nextElementSibling || document.querySelector(".first-tips");
          const up = document.querySelector("span[data-up]");

          if (up) {
            up.removeAttribute("data-up");
          }

          show.removeAttribute("data-show");
          show.setAttribute("data-up", "");

          next.setAttribute("data-show", "");
        }, 1400);

        document.addEventListener("pjax:send", function () {
          pursuitInterval && clearInterval(pursuitInterval);
        });

      }
      if (typeof gsap === "object") {
        initAboutPage()
      } else {
        getScript("!{url_for(theme.asset.gsap_js)}").then(initAboutPage);
      }